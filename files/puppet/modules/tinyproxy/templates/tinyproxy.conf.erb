User nobody
Group nogroup
Port 8888
Listen 0.0.0.0
Timeout 600
DefaultErrorFile "/dev/null"
StatFile "/usr/share/tinyproxy/stats.html"
Logfile "/var/log/tinyproxy/tinyproxy.log"
LogLevel Critical
PidFile "/var/run/tinyproxy/tinyproxy.pid"
MaxClients 100
MinSpareServers 10
MaxSpareServers 20
StartServers 20
MaxRequestsPerChild 1000
Allow 192.168.100.0/24
Allow 192.168.101.0/24
ViaProxyName "tinyproxy"
DisableViaHeader Yes
Filter "/etc/filter"
FilterURLs On
FilterCaseSensitive Off
FilterDefaultDeny No

<% if filter_headers == '1' then %>
Anonymous "Host"
Anonymous "Authorization"
Anonymous "Cookie"
Anonymous "Connection"
Anonymous "Accept"
Anonymous "Accept-Encoding"
Anonymous "Accept-Language"
Anonymous "Cache-Control"
Anonymous "If-Modified-Since"
Anonymous "If-None-Match"
<% if disable_browser_ident != '1' then %>
Anonymous "User-Agent"
<% end %>
Anonymous "Referer"
Anonymous "Origin"
Anonymous "X-PHX"
Anonymous "X-Roundcube-Request"
Anonymous "X-Requested-With"
Anonymous "DNT"
AddHeader "DNT" "1"
<% end %>
